<ViewDataFormTemplateSpec xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:d1p1="bb_appfx_commontypes" xmlns="bb_appfx_viewdataformtemplate" ID="e90b536f-f99a-4477-9973-9c8d5067a7ef" Name="TestChildExtensionView" Description="This is to test adding child extension fields to the expression view" Author="Cary Mayeda" DataFormInstanceID="0656af60-2c61-49be-bced-4c9018b107eb" RecordType="Sponsorship Opportunity" d1p1:SecurityUIFolder="Test" OwnerIDMapperID="00000000-0000-0000-0000-000000000000">
	<SPDataForm SPName="USP_SPONSORSHIPOPPORTUNITYEXT_VIEW">
		<d1p1:CreateProcedureSQL>

			create procedure dbo.USP_SPONSORSHIPOPPORTUNITYEXT_VIEW
			(
			@ID uniqueidentifier,
			@DATALOADED bit = 0 output,
			@ELIGIBILITY  nvarchar(10) = null output,
			@CONSTITUENTID uniqueidentifier = null output

			)
			as
			set nocount on;

			-- be sure to set this, in case the select returns no rows
			set @DATALOADED = 0;

			-- populate the output parameters, which correspond to fields on the form.  Note that
			-- we set @DATALOADED = 1 to indicate that the load was successful.  Otherwise, the system
			-- will display a "no data loaded" message.
			select @DATALOADED = 1,
			@ELIGIBILITY = ELIGIBILITY,
			@CONSTITUENTID = CONSTITUENTID
			from dbo.SPONSORSHIPOPPORTUNITY so
			join dbo.SPONSORSHIPOPPORTUNITYCHILD so_child on
			so.ID = so_child.ID
			where so.ID = @ID

			return 0;

		</d1p1:CreateProcedureSQL>
	</SPDataForm>
	<d1p1:FormMetaData FixedDialog="true">
		<d1p1:FormFields>
			<d1p1:FormField FieldID="ELIGIBILITY" MaxLength="10" Caption="Eligibility Text from test view" />
			<d1p1:FormField FieldID="CONSTITUENTID" DataType="Guid" Caption="Constituent ID (not lookup id)" />
		</d1p1:FormFields>
	</d1p1:FormMetaData>
</ViewDataFormTemplateSpec>